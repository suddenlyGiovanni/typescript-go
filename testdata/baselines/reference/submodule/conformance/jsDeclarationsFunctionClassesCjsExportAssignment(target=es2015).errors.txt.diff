--- old.jsDeclarationsFunctionClassesCjsExportAssignment(target=es2015).errors.txt
+++ new.jsDeclarationsFunctionClassesCjsExportAssignment(target=es2015).errors.txt
@@= skipped -0, +0 lines =@@
-<no content>
+context.js(4,14): error TS1340: Module './timer' does not refer to a type, but is used as a type here. Did you mean 'typeof import('./timer')'?
+context.js(5,14): error TS1340: Module './hook' does not refer to a type, but is used as a type here. Did you mean 'typeof import('./hook')'?
+context.js(33,11): error TS2683: 'this' implicitly has type 'any' because it does not have a type annotation.
+context.js(34,14): error TS7009: 'new' expression, whose target lacks a construct signature, implicitly has an 'any' type.
+context.js(36,5): error TS2683: 'this' implicitly has type 'any' because it does not have a type annotation.
+context.js(36,18): error TS2683: 'this' implicitly has type 'any' because it does not have a type annotation.
+context.js(48,1): error TS1203: Export assignment cannot be used when targeting ECMAScript modules. Consider using 'export default' or another module format instead.
+hook.js(2,20): error TS1340: Module './context' does not refer to a type, but is used as a type here. Did you mean 'typeof import('./context')'?
+hook.js(8,5): error TS2683: 'this' implicitly has type 'any' because it does not have a type annotation.
+hook.js(10,1): error TS1203: Export assignment cannot be used when targeting ECMAScript modules. Consider using 'export default' or another module format instead.
+timer.js(5,5): error TS2683: 'this' implicitly has type 'any' because it does not have a type annotation.
+timer.js(7,1): error TS1203: Export assignment cannot be used when targeting ECMAScript modules. Consider using 'export default' or another module format instead.
+
+
+==== timer.js (2 errors) ====
+    /**
+     * @param {number} timeout
+     */
+    function Timer(timeout) {
+        this.timeout = timeout;
+        ~~~~
+!!! error TS2683: 'this' implicitly has type 'any' because it does not have a type annotation.
+    }
+    module.exports = Timer;
+    ~~~~~~~~~~~~~~~~~~~~~~
+!!! error TS1203: Export assignment cannot be used when targeting ECMAScript modules. Consider using 'export default' or another module format instead.
+==== hook.js (3 errors) ====
+    /**
+     * @typedef {(arg: import("./context")) => void} HookHandler
+                       ~~~~~~~~~~~~~~~~~~~
+!!! error TS1340: Module './context' does not refer to a type, but is used as a type here. Did you mean 'typeof import('./context')'?
+     */
+    /**
+     * @param {HookHandler} handle
+     */
+    function Hook(handle) {
+        this.handle = handle;
+        ~~~~
+!!! error TS2683: 'this' implicitly has type 'any' because it does not have a type annotation.
+    }
+    module.exports = Hook;
+    ~~~~~~~~~~~~~~~~~~~~~
+!!! error TS1203: Export assignment cannot be used when targeting ECMAScript modules. Consider using 'export default' or another module format instead.
+    
+==== context.js (7 errors) ====
+    /**
+     * Imports
+     *
+     * @typedef {import("./timer")} Timer
+                 ~~~~~~~~~~~~~~~~~
+!!! error TS1340: Module './timer' does not refer to a type, but is used as a type here. Did you mean 'typeof import('./timer')'?
+     * @typedef {import("./hook")} Hook
+                 ~~~~~~~~~~~~~~~~
+!!! error TS1340: Module './hook' does not refer to a type, but is used as a type here. Did you mean 'typeof import('./hook')'?
+     * @typedef {import("./hook").HookHandler} HookHandler
+     */
+    
+    /**
+     * Input type definition
+     *
+     * @typedef {Object} Input
+     * @prop {Timer} timer
+     * @prop {Hook} hook
+     */
+     
+    /**
+     * State type definition
+     *
+     * @typedef {Object} State
+     * @prop {Timer} timer
+     * @prop {Hook} hook
+     */
+    
+    /**
+     * New `Context`
+     *
+     * @class
+     * @param {Input} input
+     */
+    
+    function Context(input) {
+        if (!(this instanceof Context)) {
+              ~~~~
+!!! error TS2683: 'this' implicitly has type 'any' because it does not have a type annotation.
+          return new Context(input)
+                 ~~~~~~~~~~~~~~~~~~
+!!! error TS7009: 'new' expression, whose target lacks a construct signature, implicitly has an 'any' type.
+        }
+        this.state = this.construct(input);
+        ~~~~
+!!! error TS2683: 'this' implicitly has type 'any' because it does not have a type annotation.
+                     ~~~~
+!!! error TS2683: 'this' implicitly has type 'any' because it does not have a type annotation.
+    }
+    Context.prototype = {
+        /**
+         * @param {Input} input
+         * @param {HookHandler=} handle
+         * @returns {State}
+         */
+        construct(input, handle = () => void 0) {
+            return input;
+        }
+    }
+    module.exports = Context;
+    ~~~~~~~~~~~~~~~~~~~~~~~~
+!!! error TS1203: Export assignment cannot be used when targeting ECMAScript modules. Consider using 'export default' or another module format instead.
+    